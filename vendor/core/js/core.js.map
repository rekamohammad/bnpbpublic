{"version":3,"sources":["layouts.js","script.js","csrf.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7gBA;AACA;AACA;AACA;AACA;AACA","file":"core.js","sourcesContent":["var Botble = Botble || {};\n\nBotble.getViewPort = function () {\n    var e = window,\n        a = 'inner';\n    if (!('innerWidth' in window)) {\n        a = 'client';\n        e = document.documentElement || document.body;\n    }\n\n    return {\n        width: e[a + 'Width'],\n        height: e[a + 'Height']\n    };\n};\n\nBotble.getResponsiveBreakpoint = function (size) {\n    // bootstrap responsive breakpoints\n    var sizes = {\n        'xs': 480,     // extra small\n        'sm': 768,     // small\n        'md': 992,     // medium\n        'lg': 1200     // large\n    };\n\n    return sizes[size] ? sizes[size] : 0;\n}\n\n// Set proper height for sidebar and content. The content and sidebar height must be synced always.\nvar handleSidebarAndContentHeight = function () {\n    var content = $('.page-content');\n    var sidebar = $('.sidebar');\n    var body = $('body');\n    var height;\n\n\n    var headerHeight = $('.navbar.navbar-inverse').outerHeight();\n    var footerHeight = $('.page-footer').outerHeight();\n\n    if (Botble.getViewPort().width < Botble.getResponsiveBreakpoint('md')) {\n        height = Botble.getViewPort().height - headerHeight - footerHeight;\n    } else {\n        height = sidebar.height() + 20;\n    }\n\n    if ((height + headerHeight + footerHeight) <= Botble.getViewPort().height) {\n        height = Botble.getViewPort().height - headerHeight - footerHeight;\n    }\n\n    content.css('min-height', height);\n};\n\n$(document).ready(function () {\n    handleSidebarAndContentHeight();\n});","var Botble = Botble || {};\n\nBotble.blockUI = function (options) {\n    options = $.extend(true, {}, options);\n    var html = '';\n    if (options.animate) {\n        html = '<div class=\"loading-message ' + (options.boxed ? 'loading-message-boxed' : '') + '\">' + '<div class=\"block-spinner-bar\"><div class=\"bounce1\"></div><div class=\"bounce2\"></div><div class=\"bounce3\"></div></div>' + '</div>';\n    } else if (options.iconOnly) {\n        html = '<div class=\"loading-message ' + (options.boxed ? 'loading-message-boxed' : '') + '\"><img src=\"/vendor/core/images/loading-spinner-blue.gif\" align=\"\"></div>';\n    } else if (options.textOnly) {\n        html = '<div class=\"loading-message ' + (options.boxed ? 'loading-message-boxed' : '') + '\"><span>&nbsp;&nbsp;' + (options.message ? options.message : 'LOADING...') + '</span></div>';\n    } else {\n        html = '<div class=\"loading-message ' + (options.boxed ? 'loading-message-boxed' : '') + '\"><img src=\"/vendor/core/images/loading-spinner-blue.gif\" align=\"\"><span>&nbsp;&nbsp;' + (options.message ? options.message : 'LOADING...') + '</span></div>';\n    }\n\n    if (options.target) { // element blocking\n        var el = $(options.target);\n        if (el.height() <= ($(window).height())) {\n            options.cenrerY = true;\n        }\n        el.block({\n            message: html,\n            baseZ: options.zIndex ? options.zIndex : 1000,\n            centerY: options.cenrerY !== undefined ? options.cenrerY : false,\n            css: {\n                top: '10%',\n                border: '0',\n                padding: '0',\n                backgroundColor: 'none'\n            },\n            overlayCSS: {\n                backgroundColor: options.overlayColor ? options.overlayColor : '#555',\n                opacity: options.boxed ? 0.05 : 0.1,\n                cursor: 'wait'\n            }\n        });\n    } else { // page blocking\n        $.blockUI({\n            message: html,\n            baseZ: options.zIndex ? options.zIndex : 1000,\n            css: {\n                border: '0',\n                padding: '0',\n                backgroundColor: 'none'\n            },\n            overlayCSS: {\n                backgroundColor: options.overlayColor ? options.overlayColor : '#555',\n                opacity: options.boxed ? 0.05 : 0.1,\n                cursor: 'wait'\n            }\n        });\n    }\n};\n\nBotble.unblockUI = function (target) {\n    if (target) {\n        $(target).unblock({\n            onUnblock: function () {\n                $(target).css('position', '');\n                $(target).css('zoom', '');\n            }\n        });\n    } else {\n        $.unblockUI();\n    }\n};\n\nBotble.showNotice = function (messageType, message, messageHeader) {\n    toastr.clear();\n\n    toastr.options = {\n        closeButton: true,\n        positionClass: 'toast-bottom-right',\n        onclick: null,\n        showDuration: 1000,\n        hideDuration: 1000,\n        timeOut: 10000,\n        extendedTimeOut: 1000,\n        showEasing: 'swing',\n        hideEasing: 'linear',\n        showMethod: 'fadeIn',\n        hideMethod: 'fadeOut'\n\n    };\n    toastr[messageType](message, messageHeader);\n};\n\nBotble.handleError = function (data) {\n    if (typeof (data.responseJSON) != 'undefined') {\n        if (typeof (data.responseJSON.message) != 'undefined') {\n            Botble.showNotice('error', data.responseJSON.message, Botble.languages.notices_msg.error);\n        } else {\n            $.each(data.responseJSON, function (index, el) {\n                $.each(el, function (key, item) {\n                    Botble.showNotice('error', item, Botble.languages.notices_msg.error);\n                });\n            });\n        }\n    } else {\n        Botble.showNotice('error', data.statusText, Botble.languages.notices_msg.error);\n    }\n};\n\nBotble.countCharacter = function () {\n    $.fn.charCounter = function (max, settings) {\n        max = max || 100;\n        settings = $.extend({\n            container: '<span></span>',\n            classname: 'charcounter',\n            format: '(%1 ' + Botble.languages.system.character_remain + ')',\n            pulse: true,\n            delay: 0\n        }, settings);\n        var p, timeout;\n\n        function count(el, container) {\n            el = $(el);\n            if (el.val().length > max) {\n                el.val(el.val().substring(0, max));\n                if (settings.pulse && !p) {\n                    pulse(container, true);\n                }\n            }\n            if (settings.delay > 0) {\n                if (timeout) {\n                    window.clearTimeout(timeout);\n                }\n                timeout = window.setTimeout(function () {\n                    container.html(settings.format.replace(/%1/, (max - el.val().length)));\n                }, settings.delay);\n            } else {\n                container.html(settings.format.replace(/%1/, (max - el.val().length)));\n            }\n        }\n\n        function pulse(el, again) {\n            if (p) {\n                window.clearTimeout(p);\n                p = null;\n            }\n            el.animate({\n                opacity: 0.1\n            }, 100, function () {\n                $(this).animate({\n                    opacity: 1.0\n                }, 100);\n            });\n            if (again) {\n                p = window.setTimeout(function () {\n                    pulse(el)\n                }, 200);\n            }\n        }\n\n        return this.each(function () {\n            var container;\n            if (!settings.container.match(/^<.+>$/)) {\n                // use existing element to hold counter message\n                container = $(settings.container);\n            } else {\n                // append element to hold counter message (clean up old element first)\n                $(this).next(\".\" + settings.classname).remove();\n                container = $(settings.container)\n                    .insertAfter(this)\n                    .addClass(settings.classname);\n            }\n            $(this)\n                .unbind('.charCounter')\n                .bind('keydown.charCounter', function () {\n                    count(this, container);\n                })\n                .bind('keypress.charCounter', function () {\n                    count(this, container);\n                })\n                .bind('keyup.charCounter', function () {\n                    count(this, container);\n                })\n                .bind('focus.charCounter', function () {\n                    count(this, container);\n                })\n                .bind('mouseover.charCounter', function () {\n                    count(this, container);\n                })\n                .bind('mouseout.charCounter', function () {\n                    count(this, container);\n                })\n                .bind('paste.charCounter', function () {\n                    var me = this;\n                    setTimeout(function () {\n                        count(me, container);\n                    }, 10);\n                });\n            if (this.addEventListener) {\n                this.addEventListener('input', function () {\n                    count(this, container);\n                }, false);\n            }\n            count(this, container);\n        });\n    };\n\n    $(document).on('click', 'input[data-counter], textarea[data-counter]', function () {\n        $(this).charCounter($(this).data('counter'), {\n            container: '<small></small>'\n        });\n    });\n};\n\nBotble.manageSidebar = function () {\n\n    var body = $('body');\n    var navigation = $('.navigation');\n    var sidebar_content = $('.sidebar-content');\n\n    navigation.find('li.active').parents('li').addClass('active');\n    navigation.find('li').not('.active').has('ul').children('ul').addClass('hidden-ul');\n    navigation.find('li').has('ul').children('a').parent('li').addClass('has-ul');\n\n\n    $(document).on('click', '.sidebar-toggle', function (e) {\n        e.preventDefault();\n\n        body.toggleClass('sidebar-narrow');\n\n        if (body.hasClass('sidebar-narrow')) {\n            navigation.children('li').children('ul').css('display', '');\n\n            sidebar_content.hide().delay().queue(function () {\n                $(this).show().addClass('animated fadeIn').clearQueue();\n            });\n        } else {\n            navigation.children('li').children('ul').css('display', 'none');\n            navigation.children('li.active').children('ul').css('display', 'block');\n\n            sidebar_content.hide().delay().queue(function () {\n                $(this).show().addClass('animated fadeIn').clearQueue();\n            });\n        }\n    });\n\n\n    navigation.find('li').has('ul').children('a').on('click', function (e) {\n        e.preventDefault();\n\n        if (body.hasClass('sidebar-narrow')) {\n            $(this).parent('li > ul li').not('.disabled').toggleClass('active').children('ul').slideToggle(250);\n            $(this).parent('li > ul li').not('.disabled').siblings().removeClass('active').children('ul').slideUp(250);\n        } else {\n            $(this).parent('li').not('.disabled').toggleClass('active').children('ul').slideToggle(250);\n            $(this).parent('li').not('.disabled').siblings().removeClass('active').children('ul').slideUp(250);\n        }\n    });\n\n    $(document).on('click', '.offcanvas', function () {\n        $('body').toggleClass('offcanvas-active').toggleClass('sidebar-narrow');\n    });\n};\n\nBotble.initDatepicker = function (element) {\n    if (jQuery().bootstrapDP) {\n        $(document).find(element).bootstrapDP({\n            maxDate: 0,\n            changeMonth: true,\n            changeYear: true,\n            autoclose: true,\n        });\n    }\n};\n\nBotble.initResources = function () {\n    if (jQuery().select2) {\n        $(document).find('.select-multiple').select2({\n            width: '100%',\n            allowClear: true,\n            placeholder: $(this).data('placeholder')\n        });\n        $(document).find('.select-search-full').select2({\n            width: '100%'\n        });\n        $(document).find('.select-full').select2({\n            width: '100%',\n            minimumResultsForSearch: -1\n        });\n    }\n\n    if (jQuery().timepicker) {\n        if (jQuery().timepicker) {\n\n            $('.timepicker-default').timepicker({\n                autoclose: true,\n                showSeconds: true,\n                minuteStep: 1,\n                defaultTime: false\n            });\n\n            $('.timepicker-no-seconds').timepicker({\n                autoclose: true,\n                minuteStep: 5,\n                defaultTime: false,\n            });\n\n            $('.timepicker-24').timepicker({\n                autoclose: true,\n                minuteStep: 5,\n                showSeconds: false,\n                showMeridian: false,\n                defaultTime: false\n            });\n        }\n    }\n\n    if (jQuery().colorpicker) {\n        $('.color-picker').colorpicker({});\n    }\n\n    this.initDatepicker('.datepicker');\n\n    if (jQuery().fancybox) {\n        $('.iframe-btn').fancybox({\n            'width': '900px',\n            'height': '700px',\n            'type': 'iframe',\n            'autoScale': false,\n            openEffect: 'none',\n            closeEffect: 'none',\n            overlayShow: true,\n            overlayOpacity: 0.7\n        });\n        $('.fancybox').fancybox({\n            openEffect: 'none',\n            closeEffect: 'none',\n            overlayShow: true,\n            overlayOpacity: 0.7,\n            helpers: {\n                media: {}\n            }\n        });\n    }\n    $('.styled').uniform();\n    $('.tip').tooltip({placement: 'top'});\n\n    if (jQuery().areYouSure) {\n        $('form').areYouSure();\n    }\n\n    Botble.callScroll($('.list-item-checkbox'));\n};\n\nBotble.callScroll = function (obj) {\n    obj.mCustomScrollbar({\n        axis: \"yx\",\n        theme: \"minimal-dark\",\n        scrollButtons: {\n            enable: true\n        },\n        callbacks: {\n            whileScrolling: function () {\n                obj.find('.tableFloatingHeaderOriginal').css({\n                    'top': -this.mcs.top + 'px'\n                });\n            }\n        }\n    });\n    obj.stickyTableHeaders({scrollableArea: obj, \"fixedOffset\": 2});\n};\n\nBotble.handleWaypoint = function () {\n    if ($('#waypoint').length > 0) {\n        new Waypoint({\n            element: document.getElementById('waypoint'),\n            handler: function(direction) {\n                if (direction == 'down') {\n                    $('.form-actions-fixed-top').removeClass('hidden');\n                } else {\n                    $('.form-actions-fixed-top').addClass('hidden');\n                }\n            }\n        });\n    }\n};\n\n// Handles counterup plugin wrapper\nBotble.handleCounterup = function () {\n    if (!$().counterUp) {\n        return;\n    }\n\n    $('[data-counter=\"counterup\"]').counterUp({\n        delay: 10,\n        time: 1000\n    });\n};\n\nif (jQuery().datepicker.noConflict) {\n    $.fn.bootstrapDP = $.fn.datepicker.noConflict();\n}\n\nBotble.initMediaIntegrate = function () {\n\n    if (jQuery().rvMedia) {\n\n        $('[data-type=\"rv-media-standard-alone-button\"]').rvMedia({\n            multiple: false,\n            onSelectFiles: function (files, $el) {\n                $($el.data('target')).val(files[0].url);\n            }\n        });\n\n        $('.btn_gallery').rvMedia({\n            multiple: false,\n            onSelectFiles: function (files, $el) {\n                switch ($el.data('action')) {\n                    case 'media-insert-ckeditor':\n                        $.each(files, function (index, file) {\n                            var link = file.url;\n                            if (file.type === 'youtube') {\n                                link = link.replace('watch?v=', 'embed/');\n                                CKEDITOR.instances[$el.data('result')].insertHtml('<iframe width=\"420\" height=\"315\" src=\"' + link + '\" frameborder=\"0\" allowfullscreen></iframe>');\n                            } else if (file.type === 'image') {\n                                CKEDITOR.instances[$el.data('result')].insertHtml('<img src=\"' + link + '\" alt=\"' + file.name + '\" />');\n                            } else {\n                                CKEDITOR.instances[$el.data('result')].insertHtml('<a href=\"' + link + '\">' + file.name + '</a>');\n                            }\n                        });\n\n                        break;\n                    case 'media-insert-tinymce':\n                        $.each(files, function (index, file) {\n                            var link = file.url;\n                            var html = '';\n                            if (file.type === 'youtube') {\n                                link = link.replace('watch?v=', 'embed/');\n                                html = '<iframe width=\"420\" height=\"315\" src=\"' + link + '\" frameborder=\"0\" allowfullscreen></iframe>';\n                            } else if (file.type === 'image') {\n                                html = '<img src=\"' + link + '\" alt=\"' + file.name + '\" />';\n                            } else {\n                                html = '<a href=\"' + link + '\">' + file.name + '</a>';\n                            }\n                            tinymce.activeEditor.execCommand('mceInsertContent', false, html);\n                        });\n                        break;\n                    case 'select-image':\n                        var firstItem = _.first(files);\n                        $el.closest('.image-box').find('.image-data').val(firstItem.url);\n                        $el.closest('.image-box').find('.preview_image').attr('src', firstItem.thumb).show();\n                        break;\n                    case 'attachment':\n                        var firstItem = _.first(files);\n                        $el.closest('.attachment-wrapper').find('.attachment-id').val(firstItem.id);\n                        $('.attachment-details').html('<a href=\"' + firstItem.url + '\" target=\"_blank\">' + firstItem.name + '</a>');\n                        break;\n                }\n            }\n        });\n\n        $('.btn_remove_image').on('click', function (event) {\n            event.preventDefault();\n            $(this).closest('.image-box').find('img').hide();\n            $(this).closest('.image-box').find('input').val('');\n        });\n    }\n};\n\nBotble.getViewPort = function () {\n    var e = window,\n        a = 'inner';\n    if (!('innerWidth' in window)) {\n        a = 'client';\n        e = document.documentElement || document.body;\n    }\n\n    return {\n        width: e[a + 'Width'],\n        height: e[a + 'Height']\n    };\n};\n\n// Handles portlet tools & actions\nBotble.handlePortletTools = function () {\n    // handle portlet remove\n\n    // handle portlet fullscreen\n    $('body').on('click', '.portlet > .portlet-title .fullscreen', function (e) {\n        e.preventDefault();\n        var portlet = $(this).closest(\".portlet\");\n        if (portlet.hasClass('portlet-fullscreen')) {\n            $(this).removeClass('on');\n            portlet.removeClass('portlet-fullscreen');\n            $('body').removeClass('page-portlet-fullscreen');\n            portlet.children('.portlet-body').css('height', 'auto');\n        } else {\n            var height = Botble.getViewPort().height -\n                portlet.children('.portlet-title').outerHeight() -\n                parseInt(portlet.children('.portlet-body').css('padding-top')) -\n                parseInt(portlet.children('.portlet-body').css('padding-bottom'));\n\n            $(this).addClass('on');\n            portlet.addClass('portlet-fullscreen');\n            $('body').addClass('page-portlet-fullscreen');\n            portlet.children('.portlet-body').css('height', height);\n        }\n    });\n\n    $('body').on('click', '.portlet > .portlet-title > .tools > .collapse, .portlet .portlet-title > .tools > .expand', function (e) {\n        e.preventDefault();\n        var el = $(this).closest(\".portlet\").children(\".portlet-body\");\n        if ($(this).hasClass(\"collapse\")) {\n            $(this).removeClass(\"collapse\").addClass(\"expand\");\n            el.slideUp(200);\n        } else {\n            $(this).removeClass(\"expand\").addClass(\"collapse\");\n            el.slideDown(200);\n        }\n    });\n};\n\n$(document).ready(function () {\n    Botble.countCharacter();\n    Botble.manageSidebar();\n    Botble.initResources();\n    Botble.handleWaypoint();\n    Botble.handleCounterup();\n    Botble.initMediaIntegrate();\n    Botble.handlePortletTools();\n});\n","$.ajaxSetup({\n    headers: {\n        'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n    }\n});\n"]}