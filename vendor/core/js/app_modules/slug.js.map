{"version":3,"sources":["slug.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"slug.js","sourcesContent":["$(document).ready(function () {\n    $('#change_slug').click(function () {\n        $('.default-slug').unwrap();\n        $('#editable-post-name').html('<input type=\"text\" id=\"new-post-slug\" class=\"form-control\" value=\"' + $('#editable-post-name').text() + '\" autocomplete=\"off\">');\n        $('#edit-slug-box .cancel').show();\n        $('#edit-slug-box .save').show();\n        $(this).hide();\n    });\n\n    $('#edit-slug-box .cancel').click(function () {\n        var currentSlug = $('#current-slug').val();\n        $('#sample-permalink').html('<a class=\"permalink\" href=\"' + $('#object_id').data('view') +  '?slug=' + currentSlug + '\">' + $('#sample-permalink').html() + '</a>');\n        $('#editable-post-name').text(currentSlug);\n        $('#edit-slug-box .cancel').hide();\n        $('#edit-slug-box .save').hide();\n        $('#change_slug').show();\n    });\n\n    $('#edit-slug-box .save').click(function () {\n        var name = $('#new-post-slug').val();\n        var id = $('#object_id').data('id');\n        if (id == null) {\n            id = 0;\n        }\n        if (name != null && name != '') {\n            createSlug(name, id, false);\n        } else {\n            $('#new-post-slug').closest('.form-group').addClass('has-error');\n        }\n    });\n\n    $('#name').blur(function () {\n        if ($('#edit-slug-box').hasClass('hidden')) {\n            var name = $('#name').val();\n\n            if (name != null && name != '') {\n                createSlug(name, 0, true);\n            }\n        }\n\n    });\n\n    var createSlug = function (name, id, exist) {\n        $.ajax({\n            url: $('#object_id').data('url'),\n            type: 'POST',\n            data: {\n                name: name,\n                id: id\n            },\n            success: function (data) {\n                if (exist) {\n                    $('#sample-permalink .permalink').prop('href', $('#object_id').data('view') + '?slug=' + data);\n                } else {\n                    $('#sample-permalink').html('<a class=\"permalink\" target=\"_blank\" href=\"' + $('#object_id').data('view') + '?slug=' + data + '\">' + $('#sample-permalink').html() + '</a>');\n                }\n\n                $('#editable-post-name').text(data);\n                $('#current-slug').val(data);\n                $('#edit-slug-box .cancel').hide();\n                $('#edit-slug-box .save').hide();\n                $('#change_slug').show();\n                $('#edit-slug-box').removeClass('hidden');\n            },\n            error: function (data) {\n                Botble.handleError(data);\n            }\n        });\n    }\n});\n"]}