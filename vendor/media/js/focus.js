!function(){"use strict";!function(t){t(document).ready(function(){function a(a){t("<img/>").attr("src",a).load(function(){u.w=this.width,u.h=this.height,n.attr("src",a),d.attr("src",a),e.attr({"data-focus-x":u.x,"data-focus-y":u.y,"data-image-w":u.w,"data-image-h":u.h}),e.data("focusX",u.x),e.data("focusY",u.y),e.data("imageW",u.w),e.data("imageH",u.h),t(".focuspoint").focusPoint()})}function o(){f.val('data-focus-x="'+u.x.toFixed(2)+'" data-focus-y="'+u.y.toFixed(2)+'" data-image-w="'+u.w+'" data-image-h="'+u.h+'"')}function i(){e.attr({"data-focus-x":u.x,"data-focus-y":u.y}),e.data("focusX",u.x),e.data("focusY",u.y),e.adjustFocus()}var s,f,c,e,d,n,u={x:0,y:0,w:0,h:0};!function(){s=t("#modal_set_focus_point").find("form.rv-form").data("image"),f=t(".helper-tool-data-attr"),c=t(".helper-tool-css3-val"),n=t("img.helper-tool-img, img.target-overlay");for(var o=1;o<10;o++)t(".focuspoint-frames").append('<div class="focuspoint focuspoint-frame'+o+'"><img/></div>');e=t(".focuspoint"),d=t(".focuspoint img"),a(s)}(),n.click(function(a){var s=t(this).width(),f=t(this).height(),e=a.pageX-t(this).offset().left,d=a.pageY-t(this).offset().top,n=2*(e/s-.5),r=(d/f-.5)*-2;u.x=n,u.y=r,o(),i();var l=e/s*100,m=d/f*100,h=l.toFixed(0)+"% "+m.toFixed(0)+"%",p="background-position: "+h+";";c.val(p),t(".reticle").css({top:m+"%",left:l+"%"}),t(".helper-tool-reticle-css").val("top: "+m+"%; left: "+l+"%")}),t("#modal_set_focus_point").on("shown.bs.modal",function(o){a(t("#modal_set_focus_point").find("form.rv-form").data("image"))})})}(jQuery)}();